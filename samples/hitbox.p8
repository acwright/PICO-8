pico-8 cartridge // http://www.pico-8.com
version 18
__lua__
--hitbox
--by aaron wright

function _init()
	x=10
	y=10
	w=8
	h=8
	s=2
	ex=56
	ey=56
	ew=16
	eh=16
	newx=x
	newy=y
end

function _update()
  if btn(0) then newx=x-s end
  if btn(1) then newx=x+s end
  if btn(2) then newy=y-s end
  if btn(3) then newy=y+s end
  
  if not box_hit(
    x,newy,w,h,ex,ey,ew,eh) then
    y=newy
  else
  	sfx(0)
  end
  if not box_hit(
    newx,y,w,h,ex,ey,ew,eh) then
    x=newx
  else
  	sfx(0)
  end
end

function _draw()
  cls(4)
  spr(1,x,y)
  spr(2,ex,ey,2,2)
end
-->8
--collisions

function box_hit(
  x1,y1,
  w1,h1,
  x2,y2,
  w2,h2)
  
  hit=false
  local xd=abs((x1+(w1/2))-(x2+(w2/2)))
  local xs=w1*0.5+w2*0.5
  local yd=abs((y1+(h1/2))-(y2+(h2/2)))
  local ys=h1/2+h2/2
  if xd<xs and 
     yd<ys then 
    hit=true 
  end
  
  return hit
end
__gfx__
00000000009999003333333333333333000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000099999903333333333333333000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700999999993333333333333333000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000999999993333333333333333000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000999999993333333333333333000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700999999993333333333333333000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000099999903333333333333333000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000009999003333333333333333000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000003333333333333333000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000003333333333333333000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000003333333333333333000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000003333333333333333000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000003333333333333333000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000003333333333333333000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000003333333333333333000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000003333333333333333000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__sfx__
000200001c05000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
